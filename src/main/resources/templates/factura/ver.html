<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<div th:replace="layout/fragment::head"></div>
<body>

	<!-- Navbar -->
	<div th:replace="layout/fragment::navbar(true)"></div>
	<!-- Content-main -->
	<div class="container-fluid py-3">
		<div class="mb-3">
				
				<a th:href="@{/ver/{id}(id=${factura.cliente.id})}" th:text="'volver'" class="text-decoration-none"></a>
		</div>
		<div class="card">


			<div class="card-header">
				<h1 th:text="${title}"
					class="text-primary text-start card-title fs-2"></h1>
			</div>

			<div class="card-body">


				<ul class="list-group">
					<li class="list-group-item list-group-item-success"
						aria-current="true">Datos Cliente</li>
					<li class="list-group-item"
						th:text="|${factura.cliente.nombre} ${factura.cliente.apellido}|"></li>
					<li class="list-group-item" th:text="${factura.cliente.email}"></li>
				</ul>

				<ul class="list-group">
					<li class="list-group-item list-group-item-primary"
						aria-current="true">Datos Factura</li>
					<li class="list-group-item" th:text="|${factura.descripcion}|"></li>
					<li class="list-group-item" th:text="${factura.createAt}"></li>
				</ul>

				<table class="table table-striped table-hover mt-4">
					<thead class="table-dark">
						<tr>
							<th scope="col">Producto</th>
							<th scope="col">Precio</th>
							<th scope="col">Cantidad</th>
							<th scope="col">Total</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="item : ${factura.items}">

							<td th:text="${item.producto.nombre}"></td>
							<td th:text="${item.producto.precio}"></td>
							<!-- Cuando es un metood get, se invoca al metodo como propieda sin parentess -->
							<td th:text="${item.cantidad}"></td>
							<!-- Un metood que no es get se lo invoca normal como un metood -->
							<td th:text="${item.calcularImporte() }"></td>
						</tr>

					</tbody>
				</table>

				<div class="text-end mt-4 ">
					<h3 class="d-inline border border-2  border-primary p-2">
						Total: <span th:text="${factura.total}" class="text-success"></span>
					</h3>
				</div>


			</div>
			

		</div>

	
		<div class="mt-3">
				
				<a th:href="@{/ver/{id}(id=${factura.cliente.id})}" th:text="'volver'" class="text-decoration-none"></a>
		</div>
	</div>
		



	<!-- Footer -->
	<div th:replace="layout/fragment::footer"></div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>

</body>
</html>